*** Begin Patch
*** Update File: .github/workflows/train_daily.yml
@@
-      - name: Checkout repository
-        uses: actions/checkout@v4
-        with:
-          lfs: true
-          fetch-depth: 0
+      - name: Checkout repository
+        uses: actions/checkout@v4
+        with:
+          lfs: false        # do not fetch Git LFS objects (avoids LFS quota failures)
+          fetch-depth: 0
@@
       - name: Install dependencies (incl. compatible scikit-learn)
         run: |
           set -euo pipefail
           python -m pip install --upgrade pip wheel setuptools
           if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
           # Ensure a modern scikit-learn is available to avoid API mismatch errors in training/eval
-          pip install --upgrade "scikit-learn>=1.0"
+          # force a known compatible version to avoid runtime API mismatches
+          python -m pip install --force-reinstall --no-cache-dir "scikit-learn==1.2.2"
         shell: bash
+
+      - name: Download model artifacts from Hopsworks (optional)
+        if: always()
+        env:
+          HOPSWORKS_HOST: ${{ secrets.HOPSWORKS_HOST }}
+          HOPSWORKS_API_KEY: ${{ secrets.HOPSWORKS_API_KEY }}
+          HOPSWORKS_PROJECT_ID: ${{ secrets.HOPSWORKS_PROJECT_ID }}
+          # Optionally set model name/version in repository secrets or leave defaults below
+          HOPSWORKS_MODEL_NAME: ${{ secrets.HOPSWORKS_MODEL_NAME }}
+          HOPSWORKS_MODEL_VERSION: ${{ secrets.HOPSWORKS_MODEL_VERSION }}
+        run: |
+          set -euo pipefail
+          echo "Attempting to download model artifacts from Hopsworks (if available)..."
+          python -m pip install --upgrade pip
+          python -m pip install hopsworks joblib || true
+          python - <<'PY'
+from pathlib import Path
+import os, glob, shutil, sys
+try:
+    import hopsworks
+except Exception as e:
+    print("hopsworks SDK not available or failed to import:", e, file=sys.stderr)
+    sys.exit(0)
+
+model_name = os.getenv("HOPSWORKS_MODEL_NAME", f"aqi_rf_{os.getenv('TARGET','standard_aqi_next_24h')}")
+model_version = os.getenv("HOPSWORKS_MODEL_VERSION", "")
+
+print("Logging into Hopsworks (no network errors will abort)...")
+try:
+    project = hopsworks.login()
+    mr = project.get_model_registry()
+except Exception as e:
+    print("Hopsworks login/get_model_registry failed, skipping download:", e)
+    sys.exit(0)
+
+entry = None
+try:
+    if model_version:
+        try:
+            entry = mr.get_model(model_name, version=int(model_version))
+        except Exception:
+            entry = None
+    if entry is None:
+        try:
+            # try to fetch latest by name
+            models = mr.get_models(name=model_name)
+            if models:
+                entry = models[0]
+        except Exception:
+            entry = None
+except Exception as e:
+    print("Error while locating model in registry:", e)
+    entry = None
+
+if entry is None:
+    print("No model entry found for", model_name, "- skipping artifact download.")
+    sys.exit(0)
+
+print("Downloading model entry:", model_name)
+try:
+    folder = entry.download()
+except Exception as e:
+    print("Model download failed:", e)
+    sys.exit(0)
+
+dst = Path("models")
+dst.mkdir(parents=True, exist_ok=True)
+copied = 0
+for p in glob.glob(str(Path(folder) / "**" / "*.pkl"), recursive=True):
+    shutil.copy(p, dst)
+    print("Copied", p, "->", dst)
+    copied += 1
+if copied == 0:
+    print("No .pkl artifacts found in downloaded model folder; registry entry may contain different files.")
+else:
+    print(f"Copied {copied} artifact(s) to {dst}")
+PY
+        shell: bash
*** End Patch
